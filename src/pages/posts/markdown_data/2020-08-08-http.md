---
layout: post
title: "HTTP: O Protocolo mais importante da Internet"
subtitle: Como funciona a comunica√ß√£o das aplica√ß√µes na internet?
thumbnail-img: /assets/posts/http/http-alini-thu.png
share-img: /assets/posts/http/http-alini-thu.png
tags: [web, http, overview]
---
![pythonlini1](/assets/posts/http/http-alini.png){: .mx-auto.d-block :}

Hoje o mundo todo gira em torno da Internet, mas voc√™ j√° parou pra pensar em o que √© a Internet?
A Internet √© uma rede de computadores, dispersos por todo o planeta, que trocam dados e mensagens utilizando algumas regras espec√≠ficas, que chamamos de **Protocolos**.

Podemos dizer que estes protocolos s√£o as regras de comunica√ß√£o na internet Hoje existem milhares de protocolos no mundo de TI, os mais comuns s√£o:

![protocols](/assets/posts/http/protocol-cloud.png){: .post-http-small-image :}


- HTTP: Navega√ß√£o na Web
- SMTP: Envio de Email
- FTP: Transporte de Arquivos
- POP3: Recebimento de email
- SSH: Login remoto seguro
- WAP: Telefonia M√≥vel
- IMAP: Troca de email
- TCP/IP: Envio e recebimento de dados entre computadores

Destes protocolos listados, o mais importante para n√≥s √© o O HTTP, que possibilita a comunica√ß√£o entre computadores na Internet e ele utiliza algumas regras para definir como √© feita esta troca de informa√ß√µes entre clientes e servidores.

## HTTP: O Protocolo mais importante da Internet

>A sigla vem do ingl√™s Hypertext Transfer Protocol. (Protocolo de transfer√™ncia de Hipertexto : hipertexto √© o texto estruturado que utiliza liga√ß√µes l√≥gicas (hiperlinks) entre n√≥s contendo texto). 

Ele √© o protocolo mais importante porque ele possibilita a comunica√ß√£o entre computadores na Internet e utiliza algumas regras para definir como √© feita esta troca de informa√ß√µes entre clientes e servidores por meio de mensagens. 

![cliente-servidor](/assets/posts/http/cliente-servidor-alini.png){: .post-http-small-image :}

O HTTP possui um modelo cliente-servidor, como a maioria dos protocolos, se baseando no paradigma requisi√ß√£o-resposta.

Um modelo cliente-servidor √© uma arquitetura onde o processamento das informa√ß√µes s√£o divididos em dois m√≥dulos, onde um √© respons√°vel pelo processamento das informa√ß√µes (Servidor) e o outro receber os dados (Cliente).
Os processos cliente enviam pedidos para o processo servidor, e este por sua vez processa e envia os resultados dos pedidos.

Esta comunica√ß√£o engloba 4 passos:

- Estabelecer conex√£o entre cliente-servidor
- Envio de uma mensagem para o servidor
- Servidor responde a mensagem para o Cliente
- Fechamento da conex√£o

Veremos agora cada passo detalhado, para melhorar o entendimento do processo de comunica√ß√£o requisi√ß√£o-resposta com o HTTP.

#### Estabelecer conex√£o entre cliente-servidor

Sabemos que, ao escrever em nosso navegador www.google.com, o navegador envia uma requisi√ß√£o para o Servidor. Mas se o servidor √© um computador, em algum lugar do mundo, como o Navegador encontra este servidor?

![nazare](/assets/posts/http/confusa-nazare.gif){: .mx-auto.d-block :}

**Atrav√©s dos Dom√≠nios e dos IP‚ÄôS**

No mundo de desenvolvimento, chamamos o www.google.com que digitamos no navegador, de dom√≠nio. O dom√≠nio √© o nome do site na Web, ele foi criado para organizar sites e ser algo f√°cil para que possamos nos lembrar. Aquele nome que utilizamos s√£o para os humanos se entenderem.

J√° as m√°quinas encontram o seu endere√ßo a partir de alguns n√∫meros que chamamos de endere√ßos de IP. Qualquer site que acessamos, por tr√°s existe um IP, todos os computadores possuem um IP, √© como se fosse um identificador √∫nico daquele computador, um CPF.

Quando digitamos o dom√≠nio do site que desejamos acessar, esta URL √© transformada em um IP para que possamos encontrar qual a m√°quina que precisamos pedir a informa√ß√£o que desejamos. Quem faz esta transforma√ß√£o √© um servi√ßo chamado DNS (Domain Name System).

Este servi√ßo √© como se fosse um  grande cat√°logo de dom√≠nios. Ent√£o quando queremos acessar o site da google, o DNS traduz  nosso dom√≠nio em um IP correspondente e a requisi√ß√£o  com o servidor prossegue.

Podemos usar de exemplo, ao abrir o terminal e escrever nslookup www.google.com (Comando procura o ip da serasa na internet) e vamos ter a seguinte resposta:

![nslookup](/assets/posts/http/nslookup-alini.png){: .mx-auto.d-block :}

Ao colocar o n√∫mero de ip 172.217.30.100 em nosso navegador, podemos observar que o site da google ir√° abrir.

#### Envio de uma mensagem para o servidor

Seguindo os passos do modelo que o HTTP segue, com a arquitetura de comunica√ß√£o 
entre cliente e servidor, ap√≥s encontrar o endere√ßo IP do servidor e se conectar, entramos em nosso segundo passo, que √© enviar a mensagem para o servidor, solicitando alguma a√ß√£o.

Esta mensagem que enviamos para o servidor s√£o chamadas de HTTP Request, e seguem as regras do protocolo Elementos que comp√µem uma mensagem:
- Um m√©todo HTTP;
- URL da requisi√ß√£o, sendo composta pelo nome do protocolo + dom√≠nio. Ex: http://www.serasa.com.br
- A vers√£o do protocolo HTTP;
- Informa√ß√µes do cliente;
- Em alguns casos, um corpo da mensagem.


###### M√©todos HTTP
M√©todos falam pro servidor a inten√ß√£o do cliente.
![http-methods](/assets/posts/http/http-methods.png){: .post-http-small-image :}
M√©todos mais utilizados s√£o:
- GET: Pede para o servidor alguma informa√ß√£o
- POST: Informa que queremos criar um recurso
- PUT: Pede para ser atualizado um recurso, caso ele nao existir, o mesmo √© criado.
- PATCH: Pede para atualizar partes de um recurso
- DELETE: Pede para excluir um recurso


Para que a comunica√ß√£o entre cliente e servidor seja realizada com sucesso, precisamos sempre enviar todas as informa√ß√µes na mensagem, n√£o importa se vamos fazer 10 requisi√ß√µes iguais para o mesmo servidor, cada uma dela precisa ser independente.

![http-methods](/assets/posts/http/postman-alini.png){: .mx-auto.d-block :}
Podemos fazer uma analogia ao envio de uma carta, se eu quero enviar duas cartas para Blumenau, eu n√£o posso colocar o endere√ßo do destinat√°rio em apenas uma das cartas e deixar que o carteiro adivinhe que as duas cartas que enviei s√£o para o mesmo lugar, precisamos colocar o endere√ßo nas duas cartas para que elas sejam entregues.

#### Servidor processa e responde ao cliente

O servidor interpreta a mensagem recebida do cliente, e monta uma nova mensagem para responder para o cliente, que chamamos de HTTP Response.

Um HTTP response segue algumas regras e possui as seguintes caracter√≠sticas:
- Status da requisi√ß√£o
- C√≥digo de resposta
- Corpo da mensagem, em alguns casos

Algo muito importante nas respostas do Servidor s√£o os c√≥digos de respostas definidos no protocolo HTTP.  Estes c√≥digos ajudam o Servidor contar para o Cliente o que aconteceu enquanto ele estava processando aquela requisi√ß√£o.
Quando ela ocorre com sucesso o c√≥digo 200 √© retornado, j√° quando buscamos uma informa√ß√£o que n√£o existe, recebemos o c√≥digo 404.
E tamb√©m erros podem acontecer no lado do servidor, o que √© super normal no mundo do desenvolvimento e o c√≥digo mais comum nestes casos, √© o 500. Se voc√™ ver ele em algum lugar, pode ter certeza que algo n√£o correu como esperado. Existem v√°rios c√≥digos de respostas no protocolo HTTP, voc√™ pode encontrar tabelas com seus significados muito facilmente na web.


#### Fechamento da conex√£o
Ap√≥s o envio da resposta pelo servidor, encerra-se a conex√£o estabelecida.
Por este motivo, chamamos as requisi√ß√µes HTTP Stateless, elas n√£o mant√©m estado.

![catlini](/assets/posts/http/cat-alini.gif){: .mx-auto.d-block :}

Este √© todo o fluxo de um paradigma cliente-servidor na comunica√ß√£o entre aplica√ß√µes na web.


Grande Abra√ßo, A.R. üôÇ
